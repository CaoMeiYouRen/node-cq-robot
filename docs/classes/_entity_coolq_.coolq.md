> **[cq-robot](../README.md)**

[Globals](../globals.md) / ["entity/CoolQ"](../modules/_entity_coolq_.md) / [CoolQ](_entity_coolq_.coolq.md) /

# Class: CoolQ

CoolQ 操作的核心类

**`author`** CaoMeiYouRen

**`date`** 2019-07-07

**`export`** 

**`class`** CoolQ

## Hierarchy

* **CoolQ**

## Index

### Constructors

* [constructor](_entity_coolq_.coolq.md#constructor)

### Properties

* [APP_ID](_entity_coolq_.coolq.md#app_id)
* [CQCode](_entity_coolq_.coolq.md#cqcode)
* [appDirectory](_entity_coolq_.coolq.md#appdirectory)
* [appOption](_entity_coolq_.coolq.md#appoption)
* [debug](_entity_coolq_.coolq.md#debug)

### Methods

* [addLog](_entity_coolq_.coolq.md#private-addlog)
* [canSendImage](_entity_coolq_.coolq.md#cansendimage)
* [canSendRecord](_entity_coolq_.coolq.md#cansendrecord)
* [can_send_image](_entity_coolq_.coolq.md#can_send_image)
* [can_send_record](_entity_coolq_.coolq.md#can_send_record)
* [cleanDataDir](_entity_coolq_.coolq.md#cleandatadir)
* [cleanPluginLog](_entity_coolq_.coolq.md#cleanpluginlog)
* [clean_data_dir](_entity_coolq_.coolq.md#clean_data_dir)
* [clean_plugin_log](_entity_coolq_.coolq.md#clean_plugin_log)
* [cqBasicOperate](_entity_coolq_.coolq.md#private-cqbasicoperate)
* [deleteMsg](_entity_coolq_.coolq.md#deletemsg)
* [delete_msg](_entity_coolq_.coolq.md#delete_msg)
* [getAppDirectory](_entity_coolq_.coolq.md#getappdirectory)
* [getCookies](_entity_coolq_.coolq.md#getcookies)
* [getCsrfToken](_entity_coolq_.coolq.md#getcsrftoken)
* [getDebug](_entity_coolq_.coolq.md#getdebug)
* [getGroupList](_entity_coolq_.coolq.md#getgrouplist)
* [getGroupMemberInfo](_entity_coolq_.coolq.md#getgroupmemberinfo)
* [getGroupMemberList](_entity_coolq_.coolq.md#getgroupmemberlist)
* [getImage](_entity_coolq_.coolq.md#getimage)
* [getLoginInfo](_entity_coolq_.coolq.md#getlogininfo)
* [getLoginNick](_entity_coolq_.coolq.md#getloginnick)
* [getLoginQq](_entity_coolq_.coolq.md#getloginqq)
* [getRecord](_entity_coolq_.coolq.md#getrecord)
* [getStatus](_entity_coolq_.coolq.md#getstatus)
* [getStrangerInfo](_entity_coolq_.coolq.md#getstrangerinfo)
* [getVersionInfo](_entity_coolq_.coolq.md#getversioninfo)
* [get_cookies](_entity_coolq_.coolq.md#get_cookies)
* [get_csrf_token](_entity_coolq_.coolq.md#get_csrf_token)
* [get_group_list](_entity_coolq_.coolq.md#get_group_list)
* [get_group_member_info](_entity_coolq_.coolq.md#get_group_member_info)
* [get_group_member_list](_entity_coolq_.coolq.md#get_group_member_list)
* [get_image](_entity_coolq_.coolq.md#get_image)
* [get_login_info](_entity_coolq_.coolq.md#get_login_info)
* [get_login_nick](_entity_coolq_.coolq.md#get_login_nick)
* [get_login_qq](_entity_coolq_.coolq.md#get_login_qq)
* [get_record](_entity_coolq_.coolq.md#get_record)
* [get_status](_entity_coolq_.coolq.md#get_status)
* [get_stranger_info](_entity_coolq_.coolq.md#get_stranger_info)
* [get_version_info](_entity_coolq_.coolq.md#get_version_info)
* [logDebug](_entity_coolq_.coolq.md#logdebug)
* [logError](_entity_coolq_.coolq.md#logerror)
* [logFatal](_entity_coolq_.coolq.md#logfatal)
* [logInfo](_entity_coolq_.coolq.md#loginfo)
* [logInfoRecv](_entity_coolq_.coolq.md#loginforecv)
* [logInfoSend](_entity_coolq_.coolq.md#loginfosend)
* [logInfoSuccess](_entity_coolq_.coolq.md#loginfosuccess)
* [logWarning](_entity_coolq_.coolq.md#logwarning)
* [sendDiscussMsg](_entity_coolq_.coolq.md#senddiscussmsg)
* [sendGroupMsg](_entity_coolq_.coolq.md#sendgroupmsg)
* [sendLike](_entity_coolq_.coolq.md#sendlike)
* [sendPrivateMsg](_entity_coolq_.coolq.md#sendprivatemsg)
* [send_discuss_msg](_entity_coolq_.coolq.md#send_discuss_msg)
* [send_group_msg](_entity_coolq_.coolq.md#send_group_msg)
* [send_like](_entity_coolq_.coolq.md#send_like)
* [send_private_msg](_entity_coolq_.coolq.md#send_private_msg)
* [setDebug](_entity_coolq_.coolq.md#setdebug)
* [setDiscussLeave](_entity_coolq_.coolq.md#setdiscussleave)
* [setFriendAddRequest](_entity_coolq_.coolq.md#setfriendaddrequest)
* [setGroupAddRequest](_entity_coolq_.coolq.md#setgroupaddrequest)
* [setGroupAdmin](_entity_coolq_.coolq.md#setgroupadmin)
* [setGroupAnonymous](_entity_coolq_.coolq.md#setgroupanonymous)
* [setGroupAnonymousBan](_entity_coolq_.coolq.md#setgroupanonymousban)
* [setGroupBan](_entity_coolq_.coolq.md#setgroupban)
* [setGroupCard](_entity_coolq_.coolq.md#setgroupcard)
* [setGroupKick](_entity_coolq_.coolq.md#setgroupkick)
* [setGroupLeave](_entity_coolq_.coolq.md#setgroupleave)
* [setGroupSpecialTitle](_entity_coolq_.coolq.md#setgroupspecialtitle)
* [setGroupWholeBan](_entity_coolq_.coolq.md#setgroupwholeban)
* [setRestartPlugin](_entity_coolq_.coolq.md#setrestartplugin)
* [set_discuss_leave](_entity_coolq_.coolq.md#set_discuss_leave)
* [set_friend_add_request](_entity_coolq_.coolq.md#set_friend_add_request)
* [set_group_add_request](_entity_coolq_.coolq.md#set_group_add_request)
* [set_group_admin](_entity_coolq_.coolq.md#set_group_admin)
* [set_group_anonymous](_entity_coolq_.coolq.md#set_group_anonymous)
* [set_group_anonymous_ban](_entity_coolq_.coolq.md#set_group_anonymous_ban)
* [set_group_ban](_entity_coolq_.coolq.md#set_group_ban)
* [set_group_card](_entity_coolq_.coolq.md#set_group_card)
* [set_group_kick](_entity_coolq_.coolq.md#set_group_kick)
* [set_group_leave](_entity_coolq_.coolq.md#set_group_leave)
* [set_group_special_title](_entity_coolq_.coolq.md#set_group_special_title)
* [set_group_whole_ban](_entity_coolq_.coolq.md#set_group_whole_ban)
* [set_restart_plugin](_entity_coolq_.coolq.md#set_restart_plugin)

## Constructors

###  constructor

\+ **new CoolQ**(`APP_ID`: string, `dirname`: string, `debug`: boolean): *[CoolQ](_entity_coolq_.coolq.md)*

*Defined in [entity/CoolQ.ts:54](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L54)*

CoolQ构造函数

**`author`** CaoMeiYouRen

**`date`** 2019-07-09

**`memberof`** CoolQ

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`APP_ID` | string | "" | - |
`dirname` | string | "" | 应用根目录，即index.ts中的__dirname |
`debug` | boolean | false | - |

**Returns:** *[CoolQ](_entity_coolq_.coolq.md)*

## Properties

###  APP_ID

• **APP_ID**: *string*

*Defined in [entity/CoolQ.ts:104](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L104)*

应用ID

**`type`** {string}

**`memberof`** CoolQ

___

###  CQCode

• **CQCode**: *[CQCode](_entity_cqcode_.cqcode.md)*

*Defined in [entity/CoolQ.ts:90](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L90)*

CQ码

**`type`** {CQCode}

**`memberof`** CoolQ

___

###  appDirectory

• **appDirectory**: *string*

*Defined in [entity/CoolQ.ts:118](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L118)*

应用目录

**`type`** {string}

**`memberof`** CoolQ

___

###  appOption

• **appOption**: *[CQOption](../interfaces/_entity_cqoption_.cqoption.md)*

*Defined in [entity/CoolQ.ts:97](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L97)*

插件配置

**`type`** {CQOption}

**`memberof`** CoolQ

___

###  debug

• **debug**: *boolean*

*Defined in [entity/CoolQ.ts:111](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L111)*

是否为调试模式。默认false

**`type`** {boolean}

**`memberof`** CoolQ

## Methods

### `Private` addLog

▸ **addLog**(`level`: [LogLevel](../modules/_entity_coolq_.md#loglevel), `type`: string, `content`: string): *`0`*

*Defined in [entity/CoolQ.ts:152](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L152)*

在控制台调试输出日志。不推荐使用本方法,请使用log开头的方法

**`memberof`** CoolQ

**Parameters:**

Name | Type |
------ | ------ |
`level` | [LogLevel](../modules/_entity_coolq_.md#loglevel) |
`type` | string |
`content` | string |

**Returns:** *`0`*

___

###  canSendImage

▸ **canSendImage**(): *`Promise<boolean>`*

*Defined in [entity/CoolQ.ts:1455](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1455)*

是否可以发送图片

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Returns:** *`Promise<boolean>`*

___

###  canSendRecord

▸ **canSendRecord**(): *`Promise<boolean>`*

*Defined in [entity/CoolQ.ts:1466](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1466)*

是否可以发送语音

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Returns:** *`Promise<boolean>`*

___

###  can_send_image

▸ **can_send_image**(): *`Promise<boolean>`*

*Defined in [entity/CoolQ.ts:961](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L961)*

是否可以发送图片

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Returns:** *`Promise<boolean>`*

___

###  can_send_record

▸ **can_send_record**(): *`Promise<boolean>`*

*Defined in [entity/CoolQ.ts:982](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L982)*

是否可以发送语音

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Returns:** *`Promise<boolean>`*

___

###  cleanDataDir

▸ **cleanDataDir**(`data_dir`: "image" | "record" | "show" | "bface"): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1514](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1514)*

清理数据目录

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`data_dir` | "image" \| "record" \| "show" \| "bface" | 要清理的目录名，支持 image、record、show、bface |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  cleanPluginLog

▸ **cleanPluginLog**(): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1525](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1525)*

清理插件日志

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  clean_data_dir

▸ **clean_data_dir**(`data_dir`: "image" | "record" | "show" | "bface"): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1091](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1091)*

清理数据目录

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`data_dir` | "image" \| "record" \| "show" \| "bface" | 要清理的目录名，支持 image、record、show、bface |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  clean_plugin_log

▸ **clean_plugin_log**(): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1107](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1107)*

清理插件日志

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

### `Private` cqBasicOperate

▸ **cqBasicOperate**(`opName`: string, `param`: `Record<string, any>`): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:252](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L252)*

酷Q基本操作（通过api方式调用）

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`opName` | string | 操作名称 |
`param` | `Record<string, any>` | 参数 |

**Returns:** *`Promise<number | APIResponse<Object>>`*

对于无返回数据的仅返回状态码(retcode)，有返回数据的返回整个响应内容

___

###  deleteMsg

▸ **deleteMsg**(`message_id`: number): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1163](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1163)*

撤回消息

**`author`** CaoMeiYouRen

**`date`** 2019-07-12

**`memberof`** CoolQ

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`message_id` | number | 消息 ID |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  delete_msg

▸ **delete_msg**(`message_id`: number): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:396](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L396)*

撤回消息

**`author`** CaoMeiYouRen

**`date`** 2019-07-12

**`memberof`** CoolQ

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`message_id` | number | 消息 ID |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  getAppDirectory

▸ **getAppDirectory**(): *string*

*Defined in [entity/CoolQ.ts:293](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L293)*

取应用目录
返回的路径末尾带 \\ 或 /

**`memberof`** CoolQ

**Returns:** *string*

___

###  getCookies

▸ **getCookies**(): *`Promise<string>`*

*Defined in [entity/CoolQ.ts:1407](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1407)*

取Cookies;Auth=20 慎用,此接口需要严格授权

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Returns:** *`Promise<string>`*

___

###  getCsrfToken

▸ **getCsrfToken**(): *`Promise<number>`*

*Defined in [entity/CoolQ.ts:1418](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1418)*

取CsrfToken Auth=20 即QQ网页用到的bkn/g_tk等 慎用,此接口需要严格授权 //getCsrfToken

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Returns:** *`Promise<number>`*

___

###  getDebug

▸ **getDebug**(): *boolean*

*Defined in [entity/CoolQ.ts:140](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L140)*

获取当前环境模式

**`export`** 

**Returns:** *boolean*

___

###  getGroupList

▸ **getGroupList**(): *`Promise<Array<GroupInfo>>`*

*Defined in [entity/CoolQ.ts:1370](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1370)*

获取群列表

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Returns:** *`Promise<Array<GroupInfo>>`*

___

###  getGroupMemberInfo

▸ **getGroupMemberInfo**(`group_id`: number, `user_id`: number, `no_cache`: boolean): *`Promise<MemberInfo>`*

*Defined in [entity/CoolQ.ts:1384](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1384)*

获取群成员信息

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`group_id` | number | 群号 |
`user_id` | number | QQ 号 |
`no_cache` | boolean | 是否不使用缓存（使用缓存可能更新不及时，但响应更快） |

**Returns:** *`Promise<MemberInfo>`*

___

###  getGroupMemberList

▸ **getGroupMemberList**(`group_id`: number): *`Promise<Array<MemberInfo>>`*

*Defined in [entity/CoolQ.ts:1396](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1396)*

取群成员列表

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Parameters:**

Name | Type |
------ | ------ |
`group_id` | number |

**Returns:** *`Promise<Array<MemberInfo>>`*

响应内容为 JSON 数组，每个元素的内容和上面的 /get_group_member_info 接口相同，但对于同一个群组的同一个成员，获取列表时和获取单独的成员信息时，某些字段可能有所不同，例如 area、title 等字段在获取列表时无法获得，具体应以单独的成员信息为准。

___

###  getImage

▸ **getImage**(`file`: string): *`Promise<string>`*

*Defined in [entity/CoolQ.ts:1444](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1444)*

接收图片；
Auth=30 收到的图片文件名（CQ 码的 file 参数），如 6B4DE3DFD1BD271E3297859D41C530F5.jpg

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Parameters:**

Name | Type |
------ | ------ |
`file` | string |

**Returns:** *`Promise<string>`*

下载后的图片文件路径，如 C:\Apps\CoolQ\data\image\6B4DE3DFD1BD271E3297859D41C530F5.jpg

___

###  getLoginInfo

▸ **getLoginInfo**(): *`Promise<object>`*

*Defined in [entity/CoolQ.ts:1324](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1324)*

获取登录号信息

**`author`** CaoMeiYouRen

**`date`** 2019-07-12

**`memberof`** CoolQ

**Returns:** *`Promise<object>`*

>}

___

###  getLoginNick

▸ **getLoginNick**(): *`Promise<string>`*

*Defined in [entity/CoolQ.ts:1346](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1346)*

取登录昵称

**`author`** CaoMeiYouRen

**`date`** 2019-07-12

**`memberof`** CoolQ

**Returns:** *`Promise<string>`*

___

###  getLoginQq

▸ **getLoginQq**(): *`Promise<number>`*

*Defined in [entity/CoolQ.ts:1335](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1335)*

取登录QQ

**`author`** CaoMeiYouRen

**`date`** 2019-07-12

**`memberof`** CoolQ

**Returns:** *`Promise<number>`*

___

###  getRecord

▸ **getRecord**(`file`: string, `out_format`: string, `full_path`: boolean): *`Promise<string>`*

*Defined in [entity/CoolQ.ts:1432](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1432)*

接收语音。
其实并不是真的获取语音，而是转换语音到指定的格式，然后返回语音文件名（data\record 目录下）。注意，要使用此接口，需要安装 酷Q 的 语音组件。

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`file` | string | 收到的语音文件名（CQ 码的 file 参数），如 0B38145AA44505000B38145AA4450500.silk |
`out_format` | string | 要转换到的格式，目前支持 mp3、amr、wma、m4a、spx、ogg、wav、flac |
`full_path` | boolean | 是否返回文件的绝对路径（Windows 环境下建议使用，Docker 中不建议） |

**Returns:** *`Promise<string>`*

转换后的语音文件名或路径，如 0B38145AA44505000B38145AA4450500.mp3，如果开启了 full_path，则如 C:\Apps\CoolQ\data\record\0B38145AA44505000B38145AA4450500.mp3

___

###  getStatus

▸ **getStatus**(): *`Promise<HttpApiStatus>`*

*Defined in [entity/CoolQ.ts:1477](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1477)*

取插件运行状态

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Returns:** *`Promise<HttpApiStatus>`*

通常情况下建议只使用 online 和 good 这两个字段来判断运行状态，因为随着插件的更新，其它字段有可能频繁变化。

___

###  getStrangerInfo

▸ **getStrangerInfo**(`user_id`: number, `no_cache`: boolean): *`Promise<QQInfo>`*

*Defined in [entity/CoolQ.ts:1359](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1359)*

获取陌生人信息

**`author`** CaoMeiYouRen

**`date`** 2019-07-12

**`memberof`** CoolQ

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`user_id` | number | - | QQ 号 |
`no_cache` | boolean | false | - |

**Returns:** *`Promise<QQInfo>`*

___

###  getVersionInfo

▸ **getVersionInfo**(): *`Promise<HttpApiInfo>`*

*Defined in [entity/CoolQ.ts:1489](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1489)*

取 酷Q 及 HTTP API 插件的版本信息

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Returns:** *`Promise<HttpApiInfo>`*

___

###  get_cookies

▸ **get_cookies**(): *`Promise<string>`*

*Defined in [entity/CoolQ.ts:869](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L869)*

取Cookies;Auth=20 慎用,此接口需要严格授权

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Returns:** *`Promise<string>`*

___

###  get_csrf_token

▸ **get_csrf_token**(): *`Promise<number>`*

*Defined in [entity/CoolQ.ts:891](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L891)*

取CsrfToken Auth=20 即QQ网页用到的bkn/g_tk等 慎用,此接口需要严格授权 //getCsrfToken

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Returns:** *`Promise<number>`*

___

###  get_group_list

▸ **get_group_list**(): *`Promise<Array<GroupInfo>>`*

*Defined in [entity/CoolQ.ts:760](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L760)*

获取群列表

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Returns:** *`Promise<Array<GroupInfo>>`*

___

###  get_group_member_info

▸ **get_group_member_info**(`group_id`: number, `user_id`: number, `no_cache`: boolean): *`Promise<MemberInfo>`*

*Defined in [entity/CoolQ.ts:790](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L790)*

取群成员信息

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`group_id` | number | - | 群号 |
`user_id` | number | - | QQ 号 |
`no_cache` | boolean | false | 是否不使用缓存（使用缓存可能更新不及时，但响应更快） |

**Returns:** *`Promise<MemberInfo>`*

___

###  get_group_member_list

▸ **get_group_member_list**(`group_id`: number): *`Promise<Array<MemberInfo>>`*

*Defined in [entity/CoolQ.ts:830](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L830)*

取群成员列表

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Parameters:**

Name | Type |
------ | ------ |
`group_id` | number |

**Returns:** *`Promise<Array<MemberInfo>>`*

响应内容为 JSON 数组，每个元素的内容和上面的 /get_group_member_info 接口相同，但对于同一个群组的同一个成员，获取列表时和获取单独的成员信息时，某些字段可能有所不同，例如 area、title 等字段在获取列表时无法获得，具体应以单独的成员信息为准。

___

###  get_image

▸ **get_image**(`file`: string): *`Promise<string>`*

*Defined in [entity/CoolQ.ts:939](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L939)*

接收图片；
Auth=30 收到的图片文件名（CQ 码的 file 参数），如 6B4DE3DFD1BD271E3297859D41C530F5.jpg

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Parameters:**

Name | Type |
------ | ------ |
`file` | string |

**Returns:** *`Promise<string>`*

下载后的图片文件路径，如 C:\Apps\CoolQ\data\image\6B4DE3DFD1BD271E3297859D41C530F5.jpg

___

###  get_login_info

▸ **get_login_info**(): *`Promise<object>`*

*Defined in [entity/CoolQ.ts:670](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L670)*

获取登录号信息

**`author`** CaoMeiYouRen

**`date`** 2019-07-12

**`memberof`** CoolQ

**Returns:** *`Promise<object>`*

>}

___

###  get_login_nick

▸ **get_login_nick**(): *`Promise<string>`*

*Defined in [entity/CoolQ.ts:714](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L714)*

取登录昵称

**`author`** CaoMeiYouRen

**`date`** 2019-07-12

**`memberof`** CoolQ

**Returns:** *`Promise<string>`*

___

###  get_login_qq

▸ **get_login_qq**(): *`Promise<number>`*

*Defined in [entity/CoolQ.ts:698](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L698)*

取登录QQ

**`author`** CaoMeiYouRen

**`date`** 2019-07-12

**`memberof`** CoolQ

**Returns:** *`Promise<number>`*

___

###  get_record

▸ **get_record**(`file`: string, `out_format`: string, `full_path`: boolean): *`Promise<string>`*

*Defined in [entity/CoolQ.ts:916](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L916)*

接收语音。
其实并不是真的获取语音，而是转换语音到指定的格式，然后返回语音文件名（data\record 目录下）。注意，要使用此接口，需要安装 酷Q 的 语音组件。

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`file` | string | - | 收到的语音文件名（CQ 码的 file 参数），如 0B38145AA44505000B38145AA4450500.silk |
`out_format` | string | - | 要转换到的格式，目前支持 mp3、amr、wma、m4a、spx、ogg、wav、flac |
`full_path` | boolean | false | 是否返回文件的绝对路径（Windows 环境下建议使用，Docker 中不建议） |

**Returns:** *`Promise<string>`*

转换后的语音文件名或路径，如 0B38145AA44505000B38145AA4450500.mp3，如果开启了 full_path，则如 C:\Apps\CoolQ\data\record\0B38145AA44505000B38145AA4450500.mp3

___

###  get_status

▸ **get_status**(): *`Promise<HttpApiStatus>`*

*Defined in [entity/CoolQ.ts:1004](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1004)*

取插件运行状态

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Returns:** *`Promise<HttpApiStatus>`*

通常情况下建议只使用 online 和 good 这两个字段来判断运行状态，因为随着插件的更新，其它字段有可能频繁变化。

___

###  get_stranger_info

▸ **get_stranger_info**(`user_id`: number, `no_cache`: boolean): *`Promise<QQInfo>`*

*Defined in [entity/CoolQ.ts:732](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L732)*

获取陌生人信息

**`author`** CaoMeiYouRen

**`date`** 2019-07-12

**`memberof`** CoolQ

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`user_id` | number | - | QQ 号 |
`no_cache` | boolean | false | - |

**Returns:** *`Promise<QQInfo>`*

___

###  get_version_info

▸ **get_version_info**(): *`Promise<HttpApiInfo>`*

*Defined in [entity/CoolQ.ts:1041](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1041)*

取 酷Q 及 HTTP API 插件的版本信息

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Returns:** *`Promise<HttpApiInfo>`*

___

###  logDebug

▸ **logDebug**(`type`: string, `content`: string): *`0`*

*Defined in [entity/CoolQ.ts:164](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L164)*

调试日志

**`memberof`** CoolQ

**Parameters:**

Name | Type |
------ | ------ |
`type` | string |
`content` | string |

**Returns:** *`0`*

___

###  logError

▸ **logError**(`type`: string, `content`: string): *`0`*

*Defined in [entity/CoolQ.ts:230](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L230)*

错误日志

**`memberof`** CoolQ

**Parameters:**

Name | Type |
------ | ------ |
`type` | string |
`content` | string |

**Returns:** *`0`*

___

###  logFatal

▸ **logFatal**(`type`: string, `content`: string): *`0`*

*Defined in [entity/CoolQ.ts:241](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L241)*

致命错误日志

**`memberof`** CoolQ

**Parameters:**

Name | Type |
------ | ------ |
`type` | string |
`content` | string |

**Returns:** *`0`*

___

###  logInfo

▸ **logInfo**(`type`: string, `content`: string): *`0`*

*Defined in [entity/CoolQ.ts:175](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L175)*

信息日志

**`memberof`** CoolQ

**Parameters:**

Name | Type |
------ | ------ |
`type` | string |
`content` | string |

**Returns:** *`0`*

___

###  logInfoRecv

▸ **logInfoRecv**(`type`: string, `content`: string): *`0`*

*Defined in [entity/CoolQ.ts:186](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L186)*

接受信息日志

**`memberof`** CoolQ

**Parameters:**

Name | Type |
------ | ------ |
`type` | string |
`content` | string |

**Returns:** *`0`*

___

###  logInfoSend

▸ **logInfoSend**(`type`: string, `content`: string): *`0`*

*Defined in [entity/CoolQ.ts:197](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L197)*

发送信息日志

**`memberof`** CoolQ

**Parameters:**

Name | Type |
------ | ------ |
`type` | string |
`content` | string |

**Returns:** *`0`*

___

###  logInfoSuccess

▸ **logInfoSuccess**(`type`: string, `content`: string): *`0`*

*Defined in [entity/CoolQ.ts:208](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L208)*

发送成功日志

**`memberof`** CoolQ

**Parameters:**

Name | Type |
------ | ------ |
`type` | string |
`content` | string |

**Returns:** *`0`*

___

###  logWarning

▸ **logWarning**(`type`: string, `content`: string): *`0`*

*Defined in [entity/CoolQ.ts:219](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L219)*

警告日志

**`memberof`** CoolQ

**Parameters:**

Name | Type |
------ | ------ |
`type` | string |
`content` | string |

**Returns:** *`0`*

___

###  sendDiscussMsg

▸ **sendDiscussMsg**(`discuss_id`: number, `message`: string | [CQMessage](../interfaces/_entity_cqmessage_.cqmessage.md) | `Array<CQMessage>`): *`Promise<number>`*

*Defined in [entity/CoolQ.ts:1151](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1151)*

发送讨论组消息
成功返回message_id，失败返回retcode

**`author`** CaoMeiYouRen

**`date`** 2019-07-10

**`memberof`** CoolQ

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`discuss_id` | number | 讨论组 ID（正常情况下看不到，需要从讨论组消息上报的数据中获得） |
`message` | string \| [CQMessage](../interfaces/_entity_cqmessage_.cqmessage.md) \| `Array<CQMessage>` | 要发送的内容 |

**Returns:** *`Promise<number>`*

___

###  sendGroupMsg

▸ **sendGroupMsg**(`group_id`: number, `message`: string | [CQMessage](../interfaces/_entity_cqmessage_.cqmessage.md) | `Array<CQMessage>`): *`Promise<number>`*

*Defined in [entity/CoolQ.ts:1138](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1138)*

发送群消息

**`author`** CaoMeiYouRen

**`date`** 2019-07-10

**`memberof`** CoolQ

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`group_id` | number | 群号 |
`message` | string \| [CQMessage](../interfaces/_entity_cqmessage_.cqmessage.md) \| `Array<CQMessage>` | 要发送的内容，支持纯文本和数组格式 |

**Returns:** *`Promise<number>`*

成功返回message_id，失败返回retcode

___

###  sendLike

▸ **sendLike**(`user_id`: number, `times`: number): *`Promise<any>`*

*Defined in [entity/CoolQ.ts:1173](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1173)*

发送好友赞

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`user_id` | number | - | 对方 QQ 号 |
`times` | number | 1 | 赞的次数，每个好友每天最多 10 次，默认为1 |

**Returns:** *`Promise<any>`*

___

###  sendPrivateMsg

▸ **sendPrivateMsg**(`user_id`: number, `message`: string | [CQMessage](../interfaces/_entity_cqmessage_.cqmessage.md) | `Array<CQMessage>`): *`Promise<number>`*

*Defined in [entity/CoolQ.ts:1126](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1126)*

发送私聊消息

**`author`** CaoMeiYouRen

**`date`** 2019-07-10

**`memberof`** CoolQ

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`user_id` | number | 对方 QQ 号 |
`message` | string \| [CQMessage](../interfaces/_entity_cqmessage_.cqmessage.md) \| `Array<CQMessage>` | 要发送的内容，支持纯文本和数组格式 |

**Returns:** *`Promise<number>`*

成功返回message_id，失败返回retcode

___

###  send_discuss_msg

▸ **send_discuss_msg**(`discuss_id`: number, `message`: string | [CQMessage](../interfaces/_entity_cqmessage_.cqmessage.md) | `Array<CQMessage>`): *`Promise<number>`*

*Defined in [entity/CoolQ.ts:368](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L368)*

发送讨论组消息
成功返回message_id，失败返回retcode

**`author`** CaoMeiYouRen

**`date`** 2019-07-10

**`memberof`** CoolQ

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`discuss_id` | number | 讨论组 ID（正常情况下看不到，需要从讨论组消息上报的数据中获得） |
`message` | string \| [CQMessage](../interfaces/_entity_cqmessage_.cqmessage.md) \| `Array<CQMessage>` | 要发送的内容 |

**Returns:** *`Promise<number>`*

___

###  send_group_msg

▸ **send_group_msg**(`group_id`: number, `message`: string | [CQMessage](../interfaces/_entity_cqmessage_.cqmessage.md) | `Array<CQMessage>`): *`Promise<number>`*

*Defined in [entity/CoolQ.ts:339](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L339)*

发送群消息

**`author`** CaoMeiYouRen

**`date`** 2019-07-10

**`memberof`** CoolQ

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`group_id` | number | 群号 |
`message` | string \| [CQMessage](../interfaces/_entity_cqmessage_.cqmessage.md) \| `Array<CQMessage>` | 要发送的内容，支持纯文本和数组格式 |

**Returns:** *`Promise<number>`*

成功返回message_id，失败返回retcode

___

###  send_like

▸ **send_like**(`user_id`: number, `times`: number): *`Promise<any>`*

*Defined in [entity/CoolQ.ts:413](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L413)*

发送好友赞

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`user_id` | number | - | 对方 QQ 号 |
`times` | number | 1 | 赞的次数，每个好友每天最多 10 次，默认为1 |

**Returns:** *`Promise<any>`*

___

###  send_private_msg

▸ **send_private_msg**(`user_id`: number, `message`: string | [CQMessage](../interfaces/_entity_cqmessage_.cqmessage.md) | `Array<CQMessage>`): *`Promise<number>`*

*Defined in [entity/CoolQ.ts:310](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L310)*

发送私聊消息

**`author`** CaoMeiYouRen

**`date`** 2019-07-10

**`memberof`** CoolQ

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`user_id` | number | 对方 QQ 号 |
`message` | string \| [CQMessage](../interfaces/_entity_cqmessage_.cqmessage.md) \| `Array<CQMessage>` | 要发送的内容，支持纯文本和数组格式 |

**Returns:** *`Promise<number>`*

成功返回message_id，失败返回retcode

___

###  setDebug

▸ **setDebug**(`debug`: boolean): *void*

*Defined in [entity/CoolQ.ts:125](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L125)*

设置环境模式，用于区分生产环境和开发环境。

**`export`** 

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`debug` | boolean |   |

**Returns:** *void*

___

###  setDiscussLeave

▸ **setDiscussLeave**(`discuss_id`: number): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1283](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1283)*

置讨论组退出
Auth=140

**`author`** CaoMeiYouRen

**`date`** 2019-07-12

**`memberof`** CoolQ

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`discuss_id` | number | 讨论组 ID（正常情况下看不到，需要从讨论组消息上报的数据中获得 |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  setFriendAddRequest

▸ **setFriendAddRequest**(`flag`: string, `approve`: boolean, `remark`: string): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1297](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1297)*

 置好友添加请求

**`author`** CaoMeiYouRen

**`date`** 2019-07-12

**`memberof`** CoolQ

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`flag` | string | - | 加好友请求的 flag（需从上报的数据中获得） |
`approve` | boolean | true | - |
`remark` | string | - | 添加后的好友备注（仅在同意时有效） |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  setGroupAddRequest

▸ **setGroupAddRequest**(`flag`: string, `type`: string, `approve`: boolean, `reason`: string): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1313](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1313)*

置群添加请求

**`author`** CaoMeiYouRen

**`date`** 2019-07-24

**`memberof`** CoolQ

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`flag` | string | - | 加群请求的 flag（需从上报的数据中获得） |
`type` | string | - | add 或 invite，请求类型（需要和上报消息中的 sub_type 字段相符） |
`approve` | boolean | true | - |
`reason` | string | "" | 拒绝理由（仅在拒绝时有效） |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  setGroupAdmin

▸ **setGroupAdmin**(`group_id`: number, `user_id`: number, `enable`: boolean): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1227](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1227)*

群组设置管理员

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`group_id` | number | - | 群号 |
`user_id` | number | - | - |
`enable` | boolean | true | - |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  setGroupAnonymous

▸ **setGroupAnonymous**(`group_id`: number, `enable`: boolean): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1236](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1236)*

群组匿名

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`group_id` | number | - | 群号 |
`enable` | boolean | true | - |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  setGroupAnonymousBan

▸ **setGroupAnonymousBan**(`group_id`: number, `anonymous_flag`: string, `duration`: number): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1206](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1206)*

群组匿名用户禁言

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`group_id` | number | - | 群号 |
`anonymous_flag` | string | - | 要禁言的匿名用户的 flag（需从群消息上报的数据中获得） |
`duration` | number |  30 * 60 | - |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  setGroupBan

▸ **setGroupBan**(`group_id`: number, `user_id`: number, `duration`: number): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1195](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1195)*

群组单人禁言

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`group_id` | number | - | 群号 |
`user_id` | number | - | 要禁言的 QQ 号 |
`duration` | number |  30 * 60 | - |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  setGroupCard

▸ **setGroupCard**(`group_id`: number, `user_id`: number, `card`: string): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1246](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1246)*

设置群名片（群备注）

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`group_id` | number | - | 群号 |
`user_id` | number | - | 要设置的 QQ 号 |
`card` | string | "" | 群名片内容，不填或空字符串表示删除群名片 |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  setGroupKick

▸ **setGroupKick**(`group_id`: number, `user_id`: number, `reject_add_request`: boolean): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1184](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1184)*

群组踢人

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`group_id` | number | - | 群号 |
`user_id` | number | - | 要踢的 QQ 号 |
`reject_add_request` | boolean | false | - |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  setGroupLeave

▸ **setGroupLeave**(`group_id`: number, `is_dismiss`: boolean): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1255](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1255)*

退出群组

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`group_id` | number | - | 群号 |
`is_dismiss` | boolean | false | 是否解散，如果登录号是群主，则仅在此项为 true 时能够解散 |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  setGroupSpecialTitle

▸ **setGroupSpecialTitle**(`group_id`: number, `user_id`: number, `special_title`: string, `duration`: number): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1271](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1271)*

置群成员专属头衔；
Auth=128 需群主权限

**`author`** CaoMeiYouRen

**`date`** 2019-07-12

**`memberof`** CoolQ

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`group_id` | number | 目标群 |
`user_id` | number | 目标QQ |
`special_title` | string | 如果要删除，这里填空 |
`duration` | number | 专属头衔有效期，单位为秒。如果永久有效，这里填写-1 |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  setGroupWholeBan

▸ **setGroupWholeBan**(`group_id`: number, `enable`: boolean): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1217](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1217)*

群组全员禁言

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`group_id` | number | - | 群号 |
`enable` | boolean | true | - |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  setRestartPlugin

▸ **setRestartPlugin**(`delay`: number): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1501](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1501)*

重启 HTTP API 插件；
由于重启插件同时需要重启 API 服务，这意味着当前的 API 请求会被中断，因此需在异步地重启插件，接口返回的 status 是 async。

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Parameters:**

Name | Type | Default |
------ | ------ | ------ |
`delay` | number | 0 |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  set_discuss_leave

▸ **set_discuss_leave**(`discuss_id`: number): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:612](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L612)*

置讨论组退出
Auth=140

**`author`** CaoMeiYouRen

**`date`** 2019-07-12

**`memberof`** CoolQ

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`discuss_id` | number | 讨论组 ID（正常情况下看不到，需要从讨论组消息上报的数据中获得 |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  set_friend_add_request

▸ **set_friend_add_request**(`flag`: string, `approve`: boolean, `remark`: string): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:632](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L632)*

 置好友添加请求

**`author`** CaoMeiYouRen

**`date`** 2019-07-12

**`memberof`** CoolQ

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`flag` | string | - | 加好友请求的 flag（需从上报的数据中获得） |
`approve` | boolean | true | - |
`remark` | string | - | 添加后的好友备注（仅在同意时有效） |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  set_group_add_request

▸ **set_group_add_request**(`flag`: string, `type`: string, `approve`: boolean, `reason`: string): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:653](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L653)*

置群添加请求

**`author`** CaoMeiYouRen

**`date`** 2019-07-24

**`memberof`** CoolQ

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`flag` | string | - | 加群请求的 flag（需从上报的数据中获得） |
`type` | string | - | add 或 invite，请求类型（需要和上报消息中的 sub_type 字段相符） |
`approve` | boolean | true | - |
`reason` | string | "" | 拒绝理由（仅在拒绝时有效） |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  set_group_admin

▸ **set_group_admin**(`group_id`: number, `user_id`: number, `enable`: boolean): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:515](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L515)*

群组设置管理员

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`group_id` | number | - | 群号 |
`user_id` | number | - | - |
`enable` | boolean | true | - |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  set_group_anonymous

▸ **set_group_anonymous**(`group_id`: number, `enable`: boolean): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:534](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L534)*

群组匿名

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`group_id` | number | - | 群号 |
`enable` | boolean | true | - |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  set_group_anonymous_ban

▸ **set_group_anonymous_ban**(`group_id`: number, `anonymous_flag`: string, `duration`: number): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:479](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L479)*

群组匿名用户禁言

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`group_id` | number | - | 群号 |
`anonymous_flag` | string | - | 要禁言的匿名用户的 flag（需从群消息上报的数据中获得） |
`duration` | number |  30 * 60 | - |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  set_group_ban

▸ **set_group_ban**(`group_id`: number, `user_id`: number, `duration`: number): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:459](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L459)*

群组单人禁言

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`group_id` | number | - | 群号 |
`user_id` | number | - | 要禁言的 QQ 号 |
`duration` | number |  30 * 60 | - |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  set_group_card

▸ **set_group_card**(`group_id`: number, `user_id`: number, `card`: string): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:552](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L552)*

设置群名片（群备注）

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`group_id` | number | - | 群号 |
`user_id` | number | - | 要设置的 QQ 号 |
`card` | string | "" | 群名片内容，不填或空字符串表示删除群名片 |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  set_group_kick

▸ **set_group_kick**(`group_id`: number, `user_id`: number, `reject_add_request`: boolean): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:439](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L439)*

群组踢人

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`group_id` | number | - | 群号 |
`user_id` | number | - | 要踢的 QQ 号 |
`reject_add_request` | boolean | false | - |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  set_group_leave

▸ **set_group_leave**(`group_id`: number, `is_dismiss`: boolean): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:570](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L570)*

退出群组

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`group_id` | number | - | 群号 |
`is_dismiss` | boolean | false | 是否解散，如果登录号是群主，则仅在此项为 true 时能够解散 |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  set_group_special_title

▸ **set_group_special_title**(`group_id`: number, `user_id`: number, `special_title`: string, `duration`: number): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:593](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L593)*

置群成员专属头衔；
Auth=128 需群主权限

**`author`** CaoMeiYouRen

**`date`** 2019-07-12

**`memberof`** CoolQ

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`group_id` | number | 目标群 |
`user_id` | number | 目标QQ |
`special_title` | string | 如果要删除，这里填空 |
`duration` | number | 专属头衔有效期，单位为秒。如果永久有效，这里填写-1 |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  set_group_whole_ban

▸ **set_group_whole_ban**(`group_id`: number, `enable`: boolean): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:498](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L498)*

群组全员禁言

**Parameters:**

Name | Type | Default | Description |
------ | ------ | ------ | ------ |
`group_id` | number | - | 群号 |
`enable` | boolean | true | - |

**Returns:** *`Promise<number | APIResponse<Object>>`*

___

###  set_restart_plugin

▸ **set_restart_plugin**(`delay`: number): *`Promise<number | APIResponse<Object>>`*

*Defined in [entity/CoolQ.ts:1072](https://github.com/CaoMeiYouRen/node-cq-robot/blob/951adbf/src/entity/CoolQ.ts#L1072)*

重启 HTTP API 插件；
由于重启插件同时需要重启 API 服务，这意味着当前的 API 请求会被中断，因此需在异步地重启插件，接口返回的 status 是 async。

**`author`** CaoMeiYouRen

**`date`** 2019-07-13

**`memberof`** CoolQ

**Parameters:**

Name | Type | Default |
------ | ------ | ------ |
`delay` | number | 0 |

**Returns:** *`Promise<number | APIResponse<Object>>`*